---
title: "IPv4 vs IPv6"
date: 2021-12-08T11:43:43+08:00
draft: true
toc: false
images:
  - "images/totoro.jpeg"
tags: 
  - Network
---

**IP** 地址指定寻址和数据包方案的技术格式。一个IP（互联网协议）地址是分配给连接到每个设备的数值标签计算机网络使用IP协议进行通信。IP 地址充当特定网络上特定设备的标识符。

**![img](https://lh5.googleusercontent.com/znd-u3cSUp_oEije9tcKq6k3qzNORFrs3UJENS9dd60OQB5u8GAdSjmjaoUaYtYCiQcEKAORc5mbIQB6EuGaZ9RzrX0vroMZkL0W7X3j8T80xo-HPGKlcZajzKfHqCKWZQ4JgVI)

**IPv4** 是一个 IP 版本，广泛用于使用寻址系统识别网络上的设备。它是 1983 年在 ARPANET 中部署用于生产的第一个 IP 版本。它使用 32 位地址方案来存储 2^32 个地址，超过 40 亿个地址。它被认为是主要的互联网协议，承载了 94% 的互联网流量。

**IPv6** 是 Internet 协议的最新版本。部署此新 IP 地址版本是为了满足对更多 Internet 地址的需求。它旨在解决与 IPv4 相关的问题。凭借 128 位地址空间，它允许 340 个十进制唯一地址空间。IPv6 也称为 IPng（下一代互联网协议）。

**主要区别**

1. IPv4 是 **32** **位** IP 地址，而 IPv6 是 **128 位** IP 地址。
2. IPv4 是一种**数字寻址方法**，而 IPv6 是一种**字母数字寻址方法**。
3. IPv4 二进制位由点 **(.) 分隔**，而 IPv6 二进制位**由冒号 (:) 分隔**。
4. IPv4 提供 **12 个报头字段**，而 IPv6 提供 **8 个报头字段**。
5. IPv4 **支持广播**，而 IPv6 **不支持广播**。
6. IPv4 **有校验和字段**，而 IPv6 **没有校验和字段**当我们比较 IPv4 和 IPv6 时，
7. IPv4 **支持 VLSM（可变长度子网掩码**），而 IPv6 不支持 VLSM。
8. IPv4 使用 **ARP（地址解析协议）**映射到 MAC 地址，而 IPv6 使用 **NDP（邻居发现协议）**映射到 MAC 地址。
9. IPv4 和 IPv6 **不能相互通信**，但可以同时**存在于同一网络中**。这称为**双堆栈 Dual Stack**。

**DNS（Domain Name System）**是域名系统的英文缩写，是一种组织成域层次结构的计算机和网络服务命名系统，用于 TCP/IP 网络。



### **网页解析全过程【用户输入网址到显示对应页面的全过程**
① DNS 解析：当用户输入一个网址并按下回车键的时候，浏览器获得一个域名，而在实际通信过程中，我们需要的是一个 IP 地址，因此我们需要先把域名转换成相应 IP 地址。
② TCP 连接：浏览器通过 DNS 获取到 Web 服务器真正的 IP 地址后，便向 Web 服务器发起 TCP 连接请求，通过 TCP 三次握手建立好连接后，浏览器便可以将 HTTP 请求数据发送给服务器了。
③ 发送 HTTP 请求：浏览器向 Web 服务器发起一个 HTTP 请求，HTTP 协议是建立在 TCP 协议之上的应用层协议，其本质是在建立起的TCP连接中，按照HTTP协议标准发送一个索要网页的请求。在这一过程中，会涉及到负载均衡等操作。
④ 处理请求并返回：服务器获取到客户端的 HTTP 请求后，会根据 HTTP 请求中的内容来决定如何获取相应的文件，并将文件发送给浏览器。
⑤ 浏览器渲染：浏览器根据响应开始显示页面，首先解析 HTML 文件构建 DOM 树，然后解析 CSS 文件构建渲染树，等到渲染树构建完成后，浏览器开始布局渲染树并将其绘制到屏幕上。
⑥ 断开连接：客户端和服务器通过四次挥手终止 TCP 连接。